## Ограничения

### Лимиты и ограничения в JSON API

Доступ к JSON API предоставляется по:

+ логину и паролю пользователя (Basic Auth)
+ токену пользователя (Bearer token)
+ токену решения (Bearer token)

Лимиты на количество запросов в 3-секундный период зависят от используемого способа аутентификации (подробнее в этом разделе)

Также есть ряд ограничений, которые не зависят от способа аутентификации:
+ не более 5 параллельных запросов от одного пользователя или решения
+ не более 20 параллельных запросов от аккаунта
+ не более 8 КБ в заголовках запроса (URL, User-Agent, Authorization и т. д.)
+ не более 20 МБ данных в одном запросе, отправляемом на сервер
+ не более 4 [асинхронных задач](#/async#2-asinhronnyj-obmen) в очереди на аккаунт
+ обязательное использование [сжатия содержимого ответов](#/general#3-szhatie-soderzhimogo-otvetov)

### Лимит запросов за 3-секундный период

С 16.02.2026 лимит по количеству запросов перестает учитываться для аккаунта целиком и начинает считается отдельно 
для каждого пользователя и каждого решения. Это значит, что несколько пользователей или решений в одном аккаунте больше 
не конкурируют за один лимит между собой.

Фактический расход лимита зависит от веса запроса – количества единиц лимита, которое списывается за один HTTP-запрос. 
Чем больше вес запроса, тем быстрее расходуется лимит.

Для следующих эндпоинтов действует следующая формула: вес одного запроса к этим эндпоинтам составляет 5 единиц и 
не зависит от способа аутентификации:

+ `GET /api/remap/1.2/report/stock/all`
+ `GET /api/remap/1.2/report/stock/bystore`

Для всех остальных эндпоинтов:

+ при аутентификации по токену публичного или приватного решения вес запроса остается стандартным и лимит составит 45 запросов за 3 секунды
+ при аутентификации по токену решения в статусе `Черновик` или `На модерации` с 13.04.2026 вес одного запроса составит 4 единицы → 11 запросов за 3 секунды (округление вниз до целого).
+ для интеграций, использующих:
  + логин и пароль пользователя
  + токен пользователя
  вес одного запроса будет увеличиваться поэтапно:
  + с 12 мая 2026: 1 запрос = 2 единицы → 22 запроса за 3 секунды
  + с 1 сентября 2026: 1 запрос = 3 единицы → 15 запросов за 3 секунды
  + с 1 декабря 2026: 1 запрос = 4 единицы → 11 запросов за 3 секунды

Пример расчета веса запроса:
Если вы используете для авторизации логин/пароль или токен пользователя, то из "корзинки" 45 запросов, выделяемой каждые 3 секунды, 
будет списываться не 1 запрос, а 2, 3 или 4 (см. расписание изменений выше).
Например, 21 мая 2026 года интеграция по логину и паролю пользователя сделала за трехсекундный период 7 запросов – из корзинки 
списалось 7 * 2 = 14 запросов.

### Ограничения на размер данных

Накладывается ограничение на максимальное число объектов (позиций, материалов, продуктов), передаваемых в одном массиве в запросе - не более 1000 элементов.
В случае, если количество элементов коллекции превышает максимально допустимое, произойдет ошибка со статусом 413.
Если количество позиций превышает максимально допустимое, то для дальнейшего пополнения позиций нужно будет работать со специальным ресурсом,
описание которого приведено в конкретной сущности.

### Автоматическое отключение доступа

МойСклад автоматически отключает:

+ доступ к API пользователю, если пользователь совершил
  + более 200 идентичных запросов за минуту, которые завершились ошибкой, в течение последнего часа
  + более 200 запросов за минуту, которые завершились ошибкой 429, в течение последнего часа
  + более 100 PUT запросов к одной и той же сущности за минуту в течение последнего часа
+ вебхуки, если более семи дней из последних десяти дней сервис, принимающий вебхуки, отвечал только кодами ошибок (либо был недоступен), и сервис ни разу не обработал успешно вебхук за последние десять дней.

Уведомления об отключении вебхуков или доступа к API отправляются на почту сотрудника указанного как владелец аккаунта. 

Если вы столкнулись с отключением API или вебхуков:

+ устраните проблему
+ для восстановления доступа к API сообщите в поддержку МоегоСклада
+ включите вебхуки самостоятельно (обращение в поддержку не требуется)

### Тарифные ограничения

В JSON API действуют тарифные ограничения. Пользователю доступна функциональность в соответствии с его действующим тарифным планом.

Ознакомиться с актуальными тарифами и существующими дополнительными опциями можно в статье [Тарифы для вашего бизнеса](https://www.moysklad.ru/subscription/).
Более подробно об ограничениях Бесплатного тарифа в [статье](https://support.moysklad.ru/hc/ru/articles/233091228-%D0%92%D1%8B%D0%B1%D0%BE%D1%80-%D1%82%D0%B0%D1%80%D0%B8%D1%84%D0%B0-%D0%BE%D0%BF%D0%BB%D0%B0%D1%82%D0%B0-%D0%B8-%D0%BF%D1%80%D0%BE%D0%B4%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D0%BE%D0%B4%D0%BF%D0%B8%D1%81%D0%BA%D0%B8#3)

Примечание: Работа с [вебхуками](https://dev.moysklad.ru/doc/api/remap/1.2/dictionaries/#suschnosti-vebhuki) доступна только на платных тарифах (и в пробный период).

Данные правила могут быть дополнены и изменены без предварительного уведомления. За их актуальностью необходимо следить в данной документации.
