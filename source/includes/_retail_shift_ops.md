<!-- include(metadata.apib) -->

# Розница Операции со сменами
Для того, чтобы пользоваться функциями из группы "Розница" JSON API,
необходимо быть авторизованным с правами Кассира.
В качестве ответа на запросы операций со сменами всегда приходит JSON представление [Розничной смены](#roznichnaq-smena)

## Открыть смену 
Параметры **openMoment** и **syncId** должны передаваться как form-data параметры.

+ Parameters
  + id: `851f8576-f504-11e5-8a84-bae50000016c` (string, required)
  id Точки продаж, для к которой нужно привязать открытую смену
  + openMoment_fd: `2016-04-25 13:10:19` (string, required)
  Дата (момент) открытия смены
  + syncId_fd: `851f1236-f504-11e5-8a22-bae54214016c` (string, required)
  id синхронизации. Должен быть сгенерирован на стороне клиента, отправляющего запрос
  в формате UUID. В случае повторного запроса с тем же syncId будет возвращена одна и та
  же смена.
  
### Открыть смену 
Запрос на открытие смены, привязанной к точке продаж с указанным id и к указанному моменту времени.

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление открытой смены.
  + Body
        <!-- include(body/retail_shift/open_put.json) -->

## Закрыть смену 
Параметр **closeMoment** должен передаваться как form-data параметр.

+ Parameters
  + id: `851f8576-f504-11e5-8a84-bae50000316c` (string, required)
  id розничной смены, которую нужно закрыть. Получается из объекта
  розничной смены при запросе на открытие смены.
  + closeMoment_fd: `2016-04-25 12:10:31` (string, required)
  Дата (момент) закрытия смены

### Закрыть смену 
Запрос на закрытие смены, привязанной к точке продаж с указанным id и с указанным моментом закрытия.
**Предусловие** - На указанной точке продаж должна существовать открытая смена.

+ Response 200 (application/json)
Успешный запрос. Результат - JSON представление закрытой смены.
  + Body
        <!-- include(body/retail_shift/close_put.json) -->
