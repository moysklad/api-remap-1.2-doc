name: Notify Mattermost on Issue Creation

on:
  issues:
    types:
      - opened

jobs:
  notify-mattermost:
    runs-on: ubuntu-latest
    steps:
      - name: Send notification to Mattermost
        env:
          MATTERMOST_WEBHOOK_URL: ${{ secrets.MATTERMOST_WEBHOOK_URL }}
        run: |
          curl -X POST -H 'Content-Type: application/json' \
          -d '{
                "text": "üéâ –ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞ —Å–æ–∑–¥–∞–Ω–∞: *${{ github.event.issue.title }}*\n
                –ê–≤—Ç–æ—Ä: *${{ github.event.issue.user.login }}*\n
                –û–ø–∏—Å–∞–Ω–∏–µ: \n${{ github.event.issue.body }}\n
                [–ü–µ—Ä–µ–π—Ç–∏ –∫ –∑–∞–¥–∞—á–µ](${{ github.event.issue.html_url }})"
              }' $MATTERMOST_WEBHOOK_URL
